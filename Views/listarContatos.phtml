<?php
$v_dados = $this->getDados();
$v_contatos = $v_dados['contatos'];
require_once "Template/header.phtml";
?>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css" />
<body>
    <?php require_once "Template/navbar.phtml"; ?>
    <br><br>
<div class="container">
    <div class="row">
    <div class="col s12">
        <a 
        class="btn-floating waves-effect waves-light  green accent-3 right tooltipped" 
        href="?controle=contato&metodo=manterContatos"
        data-position="top" 
        data-tooltip="Adicionar Contato">
            <i class="material-icons">person_add</i>
        </a>   
    </div>
    <div class="col s12">
        <table id="tb_contatos" class="highlight striped centered">
            <thead class="">
                <tr >
                    <th>Nome</th>
                    <th>Email</th>
                    <th colspan="3">
                        Ações
                    </th>
                </tr>
            </thead>
            <tbody class="">
                <?php foreach($v_contatos as $i) { ?>
                <tr> 
                    <td><?php echo $i->getNome(); ?></td>
                    <td><?php echo $i->getEmail(); ?></td>
                    <td>
                        <a class="waves-effect waves-light btn green accent-3 tooltipped" 
                            href="?controle=telefone&metodo=listarTelefones&id_con=<?php echo $i->getId();?>"  
                            data-position="top" 
                            data-tooltip="Ver Telefones">
                            <i class="material-icons sleft">local_phone</i><!--Ver Telefones-->
                        </a>
                        <a href="?controle=contato&metodo=manterContatos&id_con=<?php echo $i->getId();?>"
                            class="waves-effect waves-light btn indigo accent-4 tooltipped"
                            data-position="top" 
                            data-tooltip="Editar">
                            <i class="material-icons">create</i> <!--Alterar-->
                        </a>

                        <button href="?controle=contato&metodo=deletarContato&id_con=<?php echo $i->getId();?>"
                            id="remove-contato"
                            class="waves-effect waves-light btn red darken-4 tooltipped remove-contato modal-trigger"
                            data-target="modal-remove" 
                            data-id="<?php echo $i->getId();?>"
                            data-position="top" 
                            data-tooltip="Remover">
                            <i class="material-icons">delete_forever</i> <!--Apagar-->
                        </button>
                    </td>    
                </tr>
                <?php } ?>
            </tbody>
        </table>
        <?php require_once "Views/Template/modal-remove.php"; ?>
    </div>
</div>
</div>
    <?php require_once "Template/footer.phtml"; ?>
    <script type="text/javascript">
$('#modal-remove').modal();
    $('.remove-contato').click(()=>{
       // $('#modal-remove').show();
    });    
    $('#btn-confirma-remove').click(()=>{
        //alert('Contato Removido')
    });

    $('.tooltipped').tooltip();

    </script>
</body>
</html>